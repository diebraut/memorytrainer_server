{% extends "landing/base.html" %}
{% load static %}

{% block title %}Pakete – Knowledge-Tree{% endblock %}

{% block head %}
  <link rel="stylesheet" href="{% static 'css/style.css' %}?v=3">
  <style>
    /* Styles passend zur alten Tree-Ansicht (funktional & eigenständig) */
    .tree-container { position: relative; display: flex; gap: 12px; min-height: 60vh; }
    .tree-panel {
      position: relative;
      min-width: 260px;
      max-width: 40vw;
      flex: 0 0 auto;
      padding: 10px;
      border: 1px solid #ddd;
      border-radius: 8px;
      background: #fff;
      overflow: auto;
    }
    .tree-panel ul { list-style: none; padding: 0; margin: 0; }
    .tree-panel li {
      display: flex; align-items: center; justify-content: space-between;
      gap: 8px; padding: 8px 10px; margin: 4px 0; border-radius: 6px; cursor: pointer;
    }
    .tree-panel li:hover { background: #f3f6ff; }
    .tree-panel li.selected { background: #e7efff; font-weight: 600; }
    .expand-icon { margin-left: 6px; opacity: .6; }
    .knowledge-icon { width: 22px; height: 22px; margin-right: 8px; object-fit: contain; }

    .detail-panel {
      position: relative;
      min-width: 420px;
      flex: 1 1 auto;
      padding: 14px;
      border: 1px solid #ddd;
      border-radius: 8px;
      background: #fff;
      overflow: auto;
    }
    .detail-content h2 { margin: 0 0 6px 0; }
    .detail-content .description { margin: 0 0 8px 0; }
    .detail-content .divider { height: 1px; background: #eee; margin: 8px 0 10px; }
    .detail-content .info-grid { display: grid; grid-template-columns: auto 1fr; gap: 4px 12px; }
    .date-label { color: #666; }
    .date-value { font-weight: 600; }

    .resize-handle {
      position: absolute; top: 0; right: -4px; width: 8px; height: 100%;
      cursor: ew-resize; background: transparent;
    }
    .right-resize-handle { right: -4px; }
  </style>
{% endblock %}

{% block content %}
  <section class="panel">
    <h2 style="margin-top:0">Knowledge-Tree</h2>
    <div class="tree-container" id="tree-container"></div>
  </section>

  <script>
    // API-Basis des neuen Projekts (für das Tree-Script)
    window.API_BASE = "/api";
  </script>
  <script src="{% static 'js/script.js' %}?v=3"></script>
{% endblock %}
