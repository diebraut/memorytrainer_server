{% extends "landing/base.html" %}
{% load i18n %}

{% block title %}Anmelden – Memorytrainer{% endblock %}

{% block content %}
<section class="panel" style="max-width:520px;margin:0 auto">
  <h1 class="title" style="margin-bottom:12px">Anmelden</h1>

  {% if form.errors %}
    <p style="color:#ef4444">Benutzername oder Passwort war ungültig. Bitte erneut versuchen.</p>
  {% endif %}

  {% if next %}
    {% if user.is_authenticated %}
      <p class="lead">Du hast keinen Zugriff auf diese Seite.</p>
    {% else %}
      <p class="lead">Bitte melde dich an, um fortzufahren.</p>
    {% endif %}
  {% endif %}

  <form method="post" action="{% url 'login' %}">
    {% csrf_token %}
    <div style="display:grid;gap:10px">
      <label>Benutzername<br>{{ form.username }}</label>
      <label>Passwort<br>{{ form.password }}</label>
    </div>

    <input type="hidden" name="next" value="{{ next }}">

    <div style="margin-top:12px;display:flex;gap:8px">
      <button class="btn" type="submit">Anmelden</button>
      <a class="btn" href="{% url 'password_reset' %}">Passwort vergessen?</a>
    </div>
  </form>
</section>
{% endblock %}
